{"ast":null,"code":"import _defineProperty from\"/workspaces/Dex/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/workspaces/Dex/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/workspaces/Dex/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// NewPairs.tsx\nimport{useEffect,useState}from'react';import{BrowserView}from'react-device-detect';import LeftNavbar from'../../components/LeftNavbar';import Div from'../../components/SimpleComponents/Div';import SearchBar from'../../components/SearchBar';import{DataGrid}from'@mui/x-data-grid';import{columns}from'./columns';import{getNewPairs}from'../../api/tickerApi';import'./style.css';import themeNewPairs from'./theme';import Filters from'./filters';import WarningMessage from'../../components/WarningMsg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function NewPairs(props){var theme=props.theme,mobile=props.mobile;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),style=_useState2[0],setStyle=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tokens=_useState4[0],setTokens=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filteredTokens=_useState6[0],setFilteredTokens=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isNavbarOpen=_useState8[0],setIsNavbarOpen=_useState8[1];// Temporary state for filter inputs\nvar _useState9=useState({minVolume:null,maxVolume:null,minPrice:null,maxPrice:null,minLiquidity:null,maxLiquidity:null,minFDV:null,maxFDV:null,dateRange:{start:null,end:null},minLast5mChange:null,maxLast5mChange:null,minLast1hChange:null,maxLast1hChange:null,minLast6hChange:null,maxLast6hChange:null,minLast24hChange:null,maxLast24hChange:null}),_useState10=_slicedToArray(_useState9,2),tempFilters=_useState10[0],setTempFilters=_useState10[1];var _useState11=useState(tempFilters),_useState12=_slicedToArray(_useState11,2),filters=_useState12[0],setFilters=_useState12[1];useEffect(function(){getNewPairs().then(function(data){setTokens(data);setFilteredTokens(data);});},[]);useEffect(function(){if(mobile){setStyle(function(stl){return _objectSpread(_objectSpread({},stl),{},{width:'100%',padding:'0px'});});}},[mobile]);var handleToggleNavbar=function handleToggleNavbar(open){setIsNavbarOpen(open);};var applyFilters=function applyFilters(){setFilteredTokens(tokens.filter(function(token){var meetsVolume=filters.minVolume===null||token.volume>=filters.minVolume;var meetsPrice=filters.maxPrice===null||token.price<=filters.maxPrice;var meetsLiquidity=filters.minLiquidity===null||token.liquidity>=filters.minLiquidity;var meetsFDV=filters.minFDV===null||token.fdv>=filters.minFDV;var meetsLast5mChange=filters.minLast5mChange===null||parseFloat(token.last_5m)>=filters.minLast5mChange;var meetsLast1hChange=filters.minLast1hChange===null||parseFloat(token.last_1h)>=filters.minLast1hChange;var meetsLast6hChange=filters.minLast6hChange===null||parseFloat(token.last_6h)>=filters.minLast6hChange;var meetsLast24hChange=filters.minLast24hChange===null||parseFloat(token.last_24h)>=filters.minLast24hChange;var meetsDateRange=(!filters.dateRange.start||new Date(token.pool_created_at)>=new Date(filters.dateRange.start))&&(!filters.dateRange.end||new Date(token.pool_created_at)<=new Date(filters.dateRange.end));return meetsVolume&&meetsPrice&&meetsLiquidity&&meetsFDV&&meetsLast5mChange&&meetsLast1hChange&&meetsLast6hChange&&meetsLast24hChange&&meetsDateRange;}));};var handleChangeTheme=function handleChangeTheme(){window.location.reload();};var updateTempFilter=function updateTempFilter(key,value){setTempFilters(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},key,value));});};var handleApplyFilters=function handleApplyFilters(){setFilters(tempFilters);applyFilters();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BrowserView,{children:/*#__PURE__*/_jsx(LeftNavbar,{onToggle:handleToggleNavbar})}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(isNavbarOpen?'ml-56':'ml-[65px]'),children:[/*#__PURE__*/_jsx(SearchBar,{theme:theme,onChangeTheme:handleChangeTheme}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-3\",children:[/*#__PURE__*/_jsx(Filters,{filters:tempFilters,onFilterChange:updateTempFilter,onApply:handleApplyFilters}),/*#__PURE__*/_jsx(WarningMessage,{}),/*#__PURE__*/_jsx(Div,{style:style,className:\"border-l-2 border-[#e867ea] rounded-[8px]\",sx:themeNewPairs.container,children:/*#__PURE__*/_jsx(\"div\",{style:{height:'1050px',overflowY:'auto'},children:/*#__PURE__*/_jsx(DataGrid,{rows:filteredTokens,columns:columns,getRowId:function getRowId(row){return row.id;},pageSize:filteredTokens.length,rowsPerPageOptions:[],disableColumnMenu:true,hideFooterPagination:true,headerHeight:40,classes:{columnHeader:'flex items-center py-2 pl-3 pr-2 sm:py-3 border-r border-[rgb(74,42,80)]/40',columnHeaderTitleContainer:'token_explorer_column_header_title_container ',columnHeaders:'token_explorer_column_headers ',cell:'token_explorer_cell',row:'token_explorer_row',columnSeparator:'token_explorer_column_separator',root:'token_explorer_table_root',footerContainer:'token_explorer_footer_container'},onCellClick:function onCellClick(params){window.open(\"/\".concat(params.row.pairAddress,\"-ether\"),'_self');},className:\"overflow-hidden\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-10\"})]})]});}","map":null,"metadata":{},"sourceType":"module"}