{"ast":null,"code":"import _slicedToArray from\"/workspaces/Dex/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{getInfo}from'../../api/getInfo';import{formatNumber}from'../../utils/helpers/numberFormat';import'./styles.css';import Div from'../SimpleComponents/Div';import themeTokenInfo from'./theme';import Header from'./Header';import General from'./General';import{BrowserView,MobileView}from'react-device-detect';import Favourite from'./Favourite';import Img from'../SimpleComponents/Img';import Button from'../Button';import logoMain from'../../assets/logo.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function TokenInfo(props){var visible=props.visible,onSetAddress=props.onSetAddress,onSetAddressFinish=props.onSetAddressFinish;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),showMore=_useState4[0],setShowMore=_useState4[1];var setInfo=function setInfo(){getInfo().then(function(data){if(data){setToken(data);onSetAddress(data.pairAddress,data.symbol,data.tokenAddress);document.title=\"\".concat(data.symbol,\" - $\").concat(formatNumber(data.price),\", \").concat(data.name);onSetAddressFinish();}}).catch(function(){});};useEffect(function(){setInfo();var interval=setInterval(function(){setInfo();},60000);return function(){return clearInterval(interval);};},[]);var renderSimpleInfo=function renderSimpleInfo(){return/*#__PURE__*/_jsxs(Div,{className:\"token_info__header__title\",sx:themeTokenInfo.token_info__header__title,children:[/*#__PURE__*/_jsx(Img,{className:\"token_info__header__logo\",src:token.logo?token.logo:logoMain,alt:\"\"}),/*#__PURE__*/_jsx(Div,{className:\"token_info__header__name\",sx:themeTokenInfo.token_info__header__name,children:token.symbol}),/*#__PURE__*/_jsxs(Div,{sx:themeTokenInfo[\"token_info__header__price__\".concat(token.price24hChange>0?'up':'down')],className:\"token_info__header__price\",children:[\"$\",formatNumber(token.price)]}),/*#__PURE__*/_jsx(Favourite,{token:token,setToken:setToken})]});};var renderShowMoreButtons=function renderShowMoreButtons(){var setShowMoreOptions=function setShowMoreOptions(key){if(showMore===key){setShowMore(0);}else{setShowMore(key);}};return/*#__PURE__*/_jsxs(Div,{className:\"token_info__show_more_buttons\",sx:themeTokenInfo.token_info__show_more_buttons,children:[/*#__PURE__*/_jsx(Button,{title:\"About\",onClick:function onClick(){return setShowMoreOptions(1);},focus:showMore===1}),/*#__PURE__*/_jsx(Button,{title:\"More Info\",onClick:function onClick(){return setShowMoreOptions(2);},focus:showMore===2})]});};var renderShowMoreoptions=function renderShowMoreoptions(){switch(showMore){case 0:return/*#__PURE__*/_jsx(_Fragment,{});case 1:return/*#__PURE__*/_jsx(Header,{token:token,setToken:setToken});case 2:return/*#__PURE__*/_jsx(General,{token:token});default:return/*#__PURE__*/_jsx(_Fragment,{});}};return/*#__PURE__*/_jsx(Div,{className:\"token_info\",sx:themeTokenInfo.token_info,children:visible&&/*#__PURE__*/_jsxs(_Fragment,{children:[renderSimpleInfo(),/*#__PURE__*/_jsxs(MobileView,{children:[renderShowMoreButtons(),renderShowMoreoptions()]}),/*#__PURE__*/_jsxs(BrowserView,{children:[/*#__PURE__*/_jsx(Header,{token:token,setToken:setToken}),/*#__PURE__*/_jsx(General,{token:token})]})]})});}","map":null,"metadata":{},"sourceType":"module"}