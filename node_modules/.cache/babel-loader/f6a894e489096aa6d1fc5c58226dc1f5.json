{"ast":null,"code":"import _classCallCheck from\"/workspaces/Dex/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/workspaces/Dex/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/workspaces/Dex/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/workspaces/Dex/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{API}from'../../../api/constants';import{getCookie}from'../../../utils/cookies';import themeChart from'../theme';import{widget}from'./charting_library/charting_library';import'./styles.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TVChartContainer=/*#__PURE__*/function(_React$PureComponent){_inherits(TVChartContainer,_React$PureComponent);var _super=_createSuper(TVChartContainer);function TVChartContainer(props){var _this;_classCallCheck(this,TVChartContainer);_this=_super.call(this,props);_this.ref=/*#__PURE__*/React.createRef();_this.state={tvWidget:null,currency:props.currency};return _this;}_createClass(TVChartContainer,[{key:\"componentDidMount\",value:function componentDidMount(){if(!this.ref.current){return;}var widgetOptions={container_id:this.props.containerId,library_path:'/charting_library/charting_library/',locale:'en',theme:getCookie('theme')!=='light'?'dark':'light',charts_storage_url:this.props.chartsStorageUrl,charts_storage_api_version:this.props.chartsStorageApiVersion,client_id:this.props.clientId,user_id:this.props.userId,fullscreen:this.props.fullscreen,studies_overrides:this.props.studiesOverrides,symbol:this.props.symbol,// datafeed: new (window as any).Datafeeds.UDFCompatibleDatafeed(\n//   `http://localhost:4000/${this.state.currency}`,\n//   10000\n// ),\ndatafeed:new window.Datafeeds.UDFCompatibleDatafeed(\"\".concat(API),10000),// datafeed: new (window as any).Datafeeds.UDFCompatibleDatafeed(\n//   'https://demo_feed.tradingview.com/',\n//   undefined,\n//   {\n//     maxResponseLength: 1000,\n//     expectedOrder: 'latestFirst',\n//   }\n// ),\n// datafeed: Datafeed,\n// symbol: 'Bitfinex:BABY/USD', // Default symbol pair\ndisabled_features:['header_saveload','header_symbol_search'],enabled_features:['header_fullscreen_button'],container:this.ref.current,autosize:true,loading_screen:{backgroundColor:themeChart.tv.backgroundColor},load_last_chart:false,interval:'1h',overrides:{},height:600};var tvWidget=new widget(widgetOptions);this.setState({tvWidget:tvWidget});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.state.tvWidget!==null){this.state.tvWidget.remove();this.setState({tvWidget:null});}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"trmain\",ref:this.ref})});}}]);return TVChartContainer;}(React.PureComponent);export default TVChartContainer;","map":null,"metadata":{},"sourceType":"module"}